<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../../css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../../css/fontawesome-all.min.css"/>
    <link rel="stylesheet" href="../../css/jquery.dataTables.min.css"/>
    <link rel="stylesheet" href="../../css/dataTables.bootstrap4.min.css"/>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/mapping/jquery.treeview.css">
    <link rel="stylesheet" href="../../css/jsoneditor.min.css" type="text/css"/>
    <link rel="stylesheet" href="../../css/style.css">

    <title>Microservices Self Service Portal</title>
    <link rel="icon" type="image/png" href="../../images/logo_dark.png"/>
</head>
<body>
<nav class="navbar  navbar-dark bg-primary">
    <a class="navbar-brand mr-0 mr-md-2" href="/" aria-label="Bootstrap">
        <img src="../../images/logo.png" height="40px"/>
        <span class="navbar-brand mb-0 font-weight-bold">Self Service Portal</span>
        <a href="#" class="btn btn-primary" style="float: right;" id="user"><span id="profile"></span></a>
    </a>
</nav>
<div class="alert alert-dismissible fade" role="alert" style="position: fixed;top:40px;left:30%;width:680px">
    <span id="alert-msg"></span>
</div>
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item active"><a href="../dashboard.html">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">Mapping Editor</li>
    </ol>
</nav>
<div class="container" style="padding-top:10px;padding-bottom: 10px">
    <div class="row justify-content-md-center">
        <ul class="nav">
            <li class="nav-item">
                <button type="button" class="btn btn-sm btn-dark" id="addMapping">
                    <i class="fas fa-plus" style="margin-right:5px"></i>Add Mapping
                </button>
            </li>
            <li class="nav-item">
                <button type="button" class="btn btn-sm btn-dark" id="addConstant">
                    <i class="fas fa-clone" style="margin-right:5px"></i>Add Constant
                </button>
            </li>
            <li class="nav-item">
                <button type="button" class="btn btn-sm btn-dark" id="setConcat">
                    <i class="fas fa-code-branch" style="margin-right:5px"></i>Concat
                </button>
            </li>
            <li class="nav-item">
                <button type="button" class="btn btn-sm btn-primary" id="setView">
                    <i class="fas fa-bars" style="margin-right:5px"></i><span id="view_id">Mapping View</span>
                </button>
            </li>
            <li class="nav-item">
                <button type="button" class="btn btn-sm btn-success" id="exportExcel">
                    <i class="fas fa-download" style="margin-right:5px"></i>Download Excel
                </button>
            </li>
            <li class="nav-item">
                <button type="button" class="btn btn-sm btn-info" id="importExcel">
                    <i class="fas fa-upload" style="margin-right:5px"></i>Import Excel
                </button>
            </li>
            <li class="nav-item">
                <button type="button" class="btn btn-sm btn-warning" id="testMapping">
                    <i class="fas fa-bolt" style="margin-right:5px"></i>Test Mapping
                </button>
            </li>

        </ul>
    </div>
</div>

<div class="container-fluid pb-2 h-100">
    <div class="row justify-content-middle">
        <!--div class="row wrap"-->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">Source JSON</div>
                <div class="card-body" id="srcJSONIn">
                    <div id="src_jsoneditor" style="width: 100%; height:600px;"></div>
                </div>
                <div class="card-body scroll" id="srcJSONHrchyOut" style="display:none">
                    <ul id="srcbrowser" class="filetree treeview-famfamfam"></ul>
                </div>
                <div class="card-footer" style="color:blue">
                    <div id="selectedpathsrc" style="min-height: 20px;font-size: 14px"></div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-header">Target JSON</div>
                <div class="card-body" id="tgtJSONIn">
                    <div id="dest_jsoneditor" style="width: 100%; height:600px;"></div>
                </div>
                <div class="card-body scroll" id="tgtJSONHrchyOut" style="display:none">
                    <ul id="tgtbrowser" class="filetree treeview-famfamfam"></ul>
                </div>
                <div class="card-footer" style="color:blue">
                    <div id="selectedpathtrg" style="min-height: 20px;font-size: 14px"></div>
                </div>
            </div>
        </div>

        <div id="pathtonode"></div>
    </div>

    <div class="row justify-content-middle" style="margin-top: 20px">
        <!--div class="row wrap"-->
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">Mapping List</div>
                <div class="card-body">
                    <table id="mapping_table" class="table table-striped table-bordered table-hover" style="width:100%;">
                        <thead>
                        <tr>
                            <th>Source Parent</th>
                            <th>Source Element</th>
                            <th>Destination Path</th>
                            <th>Constant</th>
                        </tr>
                        </thead>
                        <tbody style="font-size: 14px">

                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>
</div>

<footer class="footer">
    <div class="container">
        <span class="text-muted">Copyrighted by <a>Cognizant Technology Solutions</a></span>
    </div>
</footer>


<div class="modal fade" id="addNewConstant" tabindex="-1" role="dialog" aria-labelledby="addNewConstantTitle"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addNewConstantTitle">Add Constant</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="frmAddNewConstant">
                    <div class="form-group">
                        <label for="constantType">Constant type:</label>
                        <select class="form-control" id="constantType" style="margin-bottom: 10px;">
                            <option value="Fixed">Fixed</option>
                            <option value="Dynamic">Dynamic</option>
                        </select>

                        <label for="constantText" class="col-form-label" style="margin-top: 10px">Text :</label>
                        <input type="text" class="form-control" id="constantText" required>

                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" id="model-close">Close</button>
                <button type="button" class="btn btn-primary" id="add-new-constant-mapping">Add Constant
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="../../lib/jquery-3.3.1.min.js"></script>
<script src="../../lib/popper.min.js"></script>
<script src="../../lib/bootstrap.min.js"></script>
<script src="../../lib/handlebars-v4.0.11.js"></script>
<script src="../../lib/jquery.dataTables.min.js"></script>
<script src="../../lib/dataTables.bootstrap4.min.js"></script>
<script src="../../js/common/util.js"></script>
<script src="../../js/mapping/mapping_editor.js"></script>
<script src="../../lib/treeview/jquery.treeview.js"></script>
<script src="../../lib/treeview/jquery.treeview.async.js"></script>
<script src="../../lib/treeview/jQueryRotateCompressed.2.1.js"></script>
<script src="../../lib/jsoneditor.min.js"></script>

<!--script id="jdbc-list-template" type="text/x-handlebars-template"-->


<!--/script-->

<script id="datasource-list-template" type="text/x-handlebars-template">
    {{#each items}}
    <option value="{{name}}">{{name}}</option>
    {{/each}}
    </tbody>
</script>
</body>
</html>